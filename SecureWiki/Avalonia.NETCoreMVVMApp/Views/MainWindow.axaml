<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:viewModels="clr-namespace:SecureWiki.ViewModels"
        xmlns:Models="clr-namespace:SecureWiki.Model"
        mc:Ignorable="d" d:DesignWidth="500" d:DesignHeight="400"
        x:Class="SecureWiki.Views.MainWindow"
        Opened="MainWindow_Shown"
        Icon="/Assets/avalonia-logo.ico"
        Title="Avalonia.NETCoreMVVMApp"
        Padding="10"><!--Width="300" Height="400"-->

    <Design.DataContext>
        <viewModels:MainWindowViewModel/>
    </Design.DataContext>

    <!--<TextBlock Text="{Binding Greeting}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
    -->
    <DockPanel Dock="Top" LastChildFill="True" x:Name="TopLevelDockPanel">
        <StackPanel Orientation="Vertical" VerticalAlignment="Top" Height="150" Width="300" x:Name="ButtonControlSp">
            <!--
            <TextBlock Name="NameLabel">What is your name?</TextBlock>
            <TextBox Name="NameTextBox"></TextBox>
            <TextBlock Name="MessageLabel"></TextBlock>        
            -->
            
            <TextBox Name="TextBox1" IsReadOnly="True" Width="{Binding  Width,ElementName=ButtonControlSp}" TextWrapping="Wrap">
                The user may not modify the contents of this TextBox.
            </TextBox>
            
            <Button Name="Button1" Click="Button1_Click">Button1</Button>
            <Button Name="Button2" Click="Button2_Click">Button2</Button>
            <Button Name="Button3" Click="Button3_Click">Button3</Button>
            
            <TextBlock>Enter IP address of MediaWiki server</TextBlock>
            <TextBox Name="TextBoxIp" Width="{Binding  Width,ElementName=ButtonControlSp}" TextWrapping="Wrap" Text="{Binding IP}">
            </TextBox>
            <Button Name="ButtonIp" Click="ButtonIP_Click">Change</Button>

            <TextBlock>Login to MediaWiki</TextBlock>
            <TextBox Name="TextBoxUser" Width="{Binding  Width,ElementName=ButtonControlSp}" TextWrapping="Wrap" Text="{Binding Username}" Watermark="Username">
            </TextBox>
            <TextBox Name="TextBoxPass" Width="{Binding  Width,ElementName=ButtonControlSp}" TextWrapping="Wrap" Text="{Binding Password}" Watermark="Password">
            </TextBox>
            <Button Name="ButtonLogin" Click="ButtonLogin_Click">Login</Button>
            
            <TextBlock>Share selected keyring</TextBlock>
            <TextBox Name="TextBoxMail" Width="{Binding  Width,ElementName=ButtonControlSp}" TextWrapping="Wrap" Text="{Binding MailRecipient}" Watermark="Recipient email">
            </TextBox>
            <Button Name="ButtonMail" Click="ButtonMail">Send</Button>

            
        </StackPanel>
        
        <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Auto">
            <StackPanel Orientation="Vertical">
                <TreeView Items="{Binding rootKeyring}" Name="TreeView1">
                    <TreeView.DataTemplates>
                        <TreeDataTemplate DataType="Models:RootKeyring" ItemsSource="{Binding combinedList}">
                            <CheckBox IsChecked="False" Name="CheckBox" Initialized="CheckBox_OnInitialized">
                                <TextBlock Foreground="Red" Text="{Binding name}"></TextBlock>
                            </CheckBox>
                        </TreeDataTemplate>
                        <TreeDataTemplate DataType="Models:KeyringEntry" ItemsSource="{Binding combinedList}">
                            <CheckBox IsChecked="False" Name="CheckBox" Initialized="CheckBox_OnInitialized">
                                <TextBlock Text="{Binding name}"></TextBlock>
                            </CheckBox>
                        </TreeDataTemplate>
                        <DataTemplate DataType="Models:DataFileEntry" >
                            <CheckBox IsChecked="False" Name="CheckBox" Initialized="CheckBox_OnInitialized">
                                <TextBlock Foreground="Blue" Text="{Binding filename}"></TextBlock>
                            </CheckBox>
                        </DataTemplate>
                    </TreeView.DataTemplates>
                    <!--
                    <Style Selector="TreeViewItem" >
                        <Setter Property="IsExpanded" Value="True"></Setter>
                    </Style>
                    -->
                </TreeView>
            </StackPanel>
                
        </ScrollViewer>
        <!-- <StackPanel Orientation="Vertical" VerticalAlignment="Top" Height="150" Width="300" x:Name="RevisionControl"> -->
        <!--     <TextBlock Text="{Binding fileSelected}"></TextBlock> -->
        <!-- </StackPanel> -->
        <!-- -->
    </DockPanel>
    
    
</Window>